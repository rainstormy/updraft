import { beforeEach, describe, expect, it } from "vitest"
import {
	type ComparableSemanticVersionString,
	isSequentialUpgrade,
	toComparableSemanticVersionString,
} from "#utilities/types/ComparableSemanticVersionString"
import type { SemanticVersionString } from "#utilities/types/SemanticVersionString"

describe.each`
	version                          | expectedMajor | expectedMinor | expectedPatch | expectedPrereleaseLabel | expectedPrereleaseDelimiter | expectedPrereleaseIncrement | expectedBuild
	${"0.0.1-beta.2+0d8c026a"}       | ${0}          | ${0}          | ${1}          | ${"-beta"}              | ${"."}                      | ${2}                        | ${"+0d8c026a"}
	${"0.2.0"}                       | ${0}          | ${2}          | ${0}          | ${""}                   | ${""}                       | ${null}                     | ${""}
	${"0.2.0+77dd7cf1"}              | ${0}          | ${2}          | ${0}          | ${""}                   | ${""}                       | ${null}                     | ${"+77dd7cf1"}
	${"0.2.6-experimental+4760bcd3"} | ${0}          | ${2}          | ${6}          | ${"-experimental"}      | ${""}                       | ${null}                     | ${"+4760bcd3"}
	${"0.5.0-alpha-4"}               | ${0}          | ${5}          | ${0}          | ${"-alpha"}             | ${"-"}                      | ${4}                        | ${""}
	${"1.0.0"}                       | ${1}          | ${0}          | ${0}          | ${""}                   | ${""}                       | ${null}                     | ${""}
	${"1.0.0-next"}                  | ${1}          | ${0}          | ${0}          | ${"-next"}              | ${""}                       | ${null}                     | ${""}
	${"1.4.9+8c84705f"}              | ${1}          | ${4}          | ${9}          | ${""}                   | ${""}                       | ${null}                     | ${"+8c84705f"}
	${"1.5.0-next"}                  | ${1}          | ${5}          | ${0}          | ${"-next"}              | ${""}                       | ${null}                     | ${""}
	${"2.1.0"}                       | ${2}          | ${1}          | ${0}          | ${""}                   | ${""}                       | ${null}                     | ${""}
	${"2.1.0+4905fa03"}              | ${2}          | ${1}          | ${0}          | ${""}                   | ${""}                       | ${null}                     | ${"+4905fa03"}
	${"2.3.4"}                       | ${2}          | ${3}          | ${4}          | ${""}                   | ${""}                       | ${null}                     | ${""}
	${"2.3.4-alpha.0+e58c6301"}      | ${2}          | ${3}          | ${4}          | ${"-alpha"}             | ${"."}                      | ${0}                        | ${"+e58c6301"}
	${"2.11.3-nightly-0+598094ca"}   | ${2}          | ${11}         | ${3}          | ${"-nightly"}           | ${"-"}                      | ${0}                        | ${"+598094ca"}
	${"3.0.6-latest"}                | ${3}          | ${0}          | ${6}          | ${"-latest"}            | ${""}                       | ${null}                     | ${""}
	${"3.1.1-beta.1"}                | ${3}          | ${1}          | ${1}          | ${"-beta"}              | ${"."}                      | ${1}                        | ${""}
	${"6.0.0-insiders+3eb59a21"}     | ${6}          | ${0}          | ${0}          | ${"-insiders"}          | ${""}                       | ${null}                     | ${"+3eb59a21"}
	${"7.2.6"}                       | ${7}          | ${2}          | ${6}          | ${""}                   | ${""}                       | ${null}                     | ${""}
	${"10.1.0+16282a96"}             | ${10}         | ${1}          | ${0}          | ${""}                   | ${""}                       | ${null}                     | ${"+16282a96"}
	${"10.4.1"}                      | ${10}         | ${4}          | ${1}          | ${""}                   | ${""}                       | ${null}                     | ${""}
	${"10.4.1-rc.0"}                 | ${10}         | ${4}          | ${1}          | ${"-rc"}                | ${"."}                      | ${0}                        | ${""}
	${"11.0.2"}                      | ${11}         | ${0}          | ${2}          | ${""}                   | ${""}                       | ${null}                     | ${""}
	${"11.0.2-beta.2+7b93b61c"}      | ${11}         | ${0}          | ${2}          | ${"-beta"}              | ${"."}                      | ${2}                        | ${"+7b93b61c"}
`(
	"when the version string is $version",
	(props: {
		version: SemanticVersionString
		expectedMajor: number
		expectedMinor: number
		expectedPatch: number
		expectedPrereleaseLabel: string
		expectedPrereleaseDelimiter: string
		expectedPrereleaseIncrement: number | null
		expectedBuild: string
	}) => {
		let result: ComparableSemanticVersionString

		beforeEach(() => {
			result = toComparableSemanticVersionString(props.version)
		})

		it(`has a major version of '${props.expectedMajor}'`, () => {
			expect(result.major).toEqual(props.expectedMajor)
		})

		it(`has a minor version of '${props.expectedMinor}'`, () => {
			expect(result.minor).toEqual(props.expectedMinor)
		})

		it(`has a patch version of '${props.expectedPatch}'`, () => {
			expect(result.patch).toEqual(props.expectedPatch)
		})

		it(`has a prerelease label of '${props.expectedPrereleaseLabel}'`, () => {
			expect(result.prerelease.label).toEqual(props.expectedPrereleaseLabel)
		})

		it(`has a prerelease delimiter of '${props.expectedPrereleaseDelimiter}'`, () => {
			expect(result.prerelease.delimiter).toEqual(
				props.expectedPrereleaseDelimiter,
			)
		})

		it(`has a prerelease increment of '${props.expectedPrereleaseIncrement}'`, () => {
			expect(result.prerelease.increment).toEqual(
				props.expectedPrereleaseIncrement,
			)
		})

		it(`has a build of '${props.expectedBuild}'`, () => {
			expect(result.build).toEqual(props.expectedBuild)
		})
	},
)

describe.each`
	current                          | validNextVersions
	${"0.0.1-beta.2+0d8c026a"}       | ${["0.0.1-beta.2+f5cf8128", "0.0.1-beta.2+1a52fb20", "0.0.1-beta.2", "0.0.1-beta.3+0d8c026a", "0.0.1-beta.3+126ac6e6", "0.0.1-beta.3", "0.0.1-rc.0+0d8c026a", "0.0.1-rc.0+4b1cf8f3", "0.0.1-rc.0", "0.0.1-pre-0+0d8c026a", "0.0.1-pre-0+7c491724", "0.0.1-pre-0", "0.0.1-beta+0d8c026a", "0.0.1-beta+e24536ae", "0.0.1-beta", "0.0.1-next+0d8c026a", "0.0.1-next+4b1cf8f3", "0.0.1-next", "0.0.1+0d8c026a", "0.0.1+745852e7", "0.0.1", "0.1.0-beta.0+0d8c026a", "0.1.0-beta.0+bf1b8cb3", "0.1.0-beta.0", "0.1.0-pre-0+0d8c026a", "0.1.0-pre-0+1d912544", "0.1.0-pre-0", "0.1.0-next+0d8c026a", "0.1.0-next+461045e7", "0.1.0-next", "0.1.0+0d8c026a", "0.1.0+b6b2063e", "0.1.0", "1.0.0-beta.0+0d8c026a", "1.0.0-beta.0+9da89202", "1.0.0-beta.0", "1.0.0-pre-0+0d8c026a", "1.0.0-pre-0+463b96dc", "1.0.0-pre-0", "1.0.0-next+0d8c026a", "1.0.0-next+cc2c4e37", "1.0.0-next", "1.0.0+0d8c026a", "1.0.0+30d4b746", "1.0.0"]}
	${"0.0.1-beta-2+0d8c026a"}       | ${["0.0.1-beta-2+f5cf8128", "0.0.1-beta-2+1a52fb20", "0.0.1-beta-2", "0.0.1-beta-3+0d8c026a", "0.0.1-beta-3+126ac6e6", "0.0.1-beta-3", "0.0.1-rc-0+0d8c026a", "0.0.1-rc-0+4b1cf8f3", "0.0.1-rc-0", "0.0.1-pre.0+0d8c026a", "0.0.1-pre.0+7c491724", "0.0.1-pre.0", "0.0.1-beta+0d8c026a", "0.0.1-beta+e24536ae", "0.0.1-beta", "0.0.1-next+0d8c026a", "0.0.1-next+4b1cf8f3", "0.0.1-next", "0.0.1+0d8c026a", "0.0.1+745852e7", "0.0.1", "0.1.0-beta-0+0d8c026a", "0.1.0-beta-0+bf1b8cb3", "0.1.0-beta-0", "0.1.0-pre.0+0d8c026a", "0.1.0-pre.0+1d912544", "0.1.0-pre.0", "0.1.0-next+0d8c026a", "0.1.0-next+461045e7", "0.1.0-next", "0.1.0+0d8c026a", "0.1.0+b6b2063e", "0.1.0", "1.0.0-beta-0+0d8c026a", "1.0.0-beta-0+9da89202", "1.0.0-beta-0", "1.0.0-pre.0+0d8c026a", "1.0.0-pre.0+463b96dc", "1.0.0-pre.0", "1.0.0-next+0d8c026a", "1.0.0-next+cc2c4e37", "1.0.0-next", "1.0.0+0d8c026a", "1.0.0+30d4b746", "1.0.0"]}
	${"2.11.3-nightly.0+598094ca"}   | ${["2.11.3-nightly.0+0388c757", "2.11.3-nightly.0+daf25ae8", "2.11.3-nightly.0", "2.11.3-nightly.1+598094ca", "2.11.3-nightly.1+3827850e", "2.11.3-nightly.1", "2.11.3-beta.0+598094ca", "2.11.3-beta.0+1d334e47", "2.11.3-beta.0", "2.11.3-pre-0+598094ca", "2.11.3-pre-0+c650864c", "2.11.3-pre-0", "2.11.3-nightly+598094ca", "2.11.3-nightly+aa970ff5", "2.11.3-nightly", "2.11.3-rc+598094ca", "2.11.3-rc+251eb489", "2.11.3-rc", "2.11.3+598094ca", "2.11.3+4a275f20", "2.11.3", "2.12.0-nightly.0+598094ca", "2.12.0-nightly.0+c325d458", "2.12.0-nightly.0", "2.12.0-pre-0+598094ca", "2.12.0-pre-0+0c470184", "2.12.0-pre-0", "2.12.0-rc+598094ca", "2.12.0-rc+823d230d", "2.12.0-rc", "2.12.0+598094ca", "2.12.0+c60a438b", "2.12.0", "3.0.0-nightly.0+598094ca", "3.0.0-nightly.0+d14cdd32", "3.0.0-nightly.0", "3.0.0-pre-0+598094ca", "3.0.0-pre-0+c41ded86", "3.0.0-pre-0", "3.0.0-rc+598094ca", "3.0.0-rc+1e7e95be", "3.0.0-rc", "3.0.0+598094ca", "3.0.0+6eed6168", "3.0.0"]}
	${"2.11.3-nightly-0+598094ca"}   | ${["2.11.3-nightly-0+0388c757", "2.11.3-nightly-0+daf25ae8", "2.11.3-nightly-0", "2.11.3-nightly-1+598094ca", "2.11.3-nightly-1+3827850e", "2.11.3-nightly-1", "2.11.3-beta-0+598094ca", "2.11.3-beta-0+1d334e47", "2.11.3-beta-0", "2.11.3-pre.0+598094ca", "2.11.3-pre.0+c650864c", "2.11.3-pre.0", "2.11.3-nightly+598094ca", "2.11.3-nightly+aa970ff5", "2.11.3-nightly", "2.11.3-rc+598094ca", "2.11.3-rc+251eb489", "2.11.3-rc", "2.11.3+598094ca", "2.11.3+4a275f20", "2.11.3", "2.12.0-nightly-0+598094ca", "2.12.0-nightly-0+c325d458", "2.12.0-nightly-0", "2.12.0-pre.0+598094ca", "2.12.0-pre.0+0c470184", "2.12.0-pre.0", "2.12.0-rc+598094ca", "2.12.0-rc+823d230d", "2.12.0-rc", "2.12.0+598094ca", "2.12.0+c60a438b", "2.12.0", "3.0.0-nightly-0+598094ca", "3.0.0-nightly-0+d14cdd32", "3.0.0-nightly-0", "3.0.0-pre.0+598094ca", "3.0.0-pre.0+c41ded86", "3.0.0-pre.0", "3.0.0-rc+598094ca", "3.0.0-rc+1e7e95be", "3.0.0-rc", "3.0.0+598094ca", "3.0.0+6eed6168", "3.0.0"]}
	${"0.5.0-alpha.4"}               | ${["0.5.0-alpha.5+d3834e5f", "0.5.0-alpha.5+ce26c4b5", "0.5.0-alpha.5", "0.5.0-beta.0+d3834e5f", "0.5.0-beta.0+ce26c4b5", "0.5.0-beta.0", "0.5.0-pre-0+6f7adf55", "0.5.0-pre-0+200ddb05", "0.5.0-pre-0", "0.5.0-alpha+d3834e5f", "0.5.0-alpha+7b84c7ff", "0.5.0-alpha", "0.5.0-next+7c8cec1d", "0.5.0-next+82369284", "0.5.0-next", "0.5.0+7d9214c8", "0.5.0+f36fb8e7", "0.5.0", "1.0.0-alpha.0+5adfd34d", "1.0.0-alpha.0", "1.0.0-pre-0+b0c90b56", "1.0.0-pre-0", "1.0.0-next+11c75ee0", "1.0.0-next", "1.0.0+66218d9c", "1.0.0"]}
	${"0.5.0-alpha-4"}               | ${["0.5.0-alpha-5+d3834e5f", "0.5.0-alpha-5+ce26c4b5", "0.5.0-alpha-5", "0.5.0-beta.0+d3834e5f", "0.5.0-beta-0+ce26c4b5", "0.5.0-beta-0", "0.5.0-pre.0+6f7adf55", "0.5.0-pre.0+200ddb05", "0.5.0-pre.0", "0.5.0-alpha+d3834e5f", "0.5.0-alpha+7b84c7ff", "0.5.0-alpha", "0.5.0-next+7c8cec1d", "0.5.0-next+82369284", "0.5.0-next", "0.5.0+7d9214c8", "0.5.0+f36fb8e7", "0.5.0", "1.0.0-alpha-0+5adfd34d", "1.0.0-alpha-0", "1.0.0-pre.0+b0c90b56", "1.0.0-pre.0", "1.0.0-next+11c75ee0", "1.0.0-next", "1.0.0+66218d9c", "1.0.0"]}
	${"3.1.1-beta.1"}                | ${["3.1.1-beta.2+fb0e225d", "3.1.1-beta.2+d75b785e", "3.1.1-beta.2", "3.1.1-rc.0+810950dd", "3.1.1-rc.0+673a9279", "3.1.1-rc.0", "3.1.1-pre-0+289981bb", "3.1.1-pre-0+d31712a7", "3.1.1-pre-0", "3.1.1-beta+fb0e225d", "3.1.1-beta+5903f0c4", "3.1.1-beta", "3.1.1-rc+ed96853d", "3.1.1-rc+de6f9bfe", "3.1.1-rc", "3.1.1+69c555cb", "3.1.1+49d8e572", "3.1.1", "3.2.0-beta.0+7a409a62", "3.2.0-beta.0", "3.2.0-rc.0+91fffedc", "3.2.0-rc.0", "3.2.0-pre-0+39ccd288", "3.2.0-pre-0", "3.2.0-rc+8fd7eec2", "3.2.0-rc", "3.2.0+f29519e7", "3.2.0", "4.0.0-beta.0+9dd90d8b", "4.0.0-beta.0", "4.0.0-rc.0+5407df1c", "4.0.0-rc.0", "4.0.0-pre-0+edb4d8e1", "4.0.0-pre-0", "4.0.0-rc+0ce22117", "4.0.0-rc", "4.0.0+c07e21a2", "4.0.0"]}
	${"3.1.1-beta-1"}                | ${["3.1.1-beta-2+fb0e225d", "3.1.1-beta-2+d75b785e", "3.1.1-beta-2", "3.1.1-rc-0+810950dd", "3.1.1-rc-0+673a9279", "3.1.1-rc-0", "3.1.1-pre.0+289981bb", "3.1.1-pre.0+d31712a7", "3.1.1-pre.0", "3.1.1-beta+fb0e225d", "3.1.1-beta+5903f0c4", "3.1.1-beta", "3.1.1-rc+ed96853d", "3.1.1-rc+de6f9bfe", "3.1.1-rc", "3.1.1+69c555cb", "3.1.1+49d8e572", "3.1.1", "3.2.0-beta-0+7a409a62", "3.2.0-beta-0", "3.2.0-rc-0+91fffedc", "3.2.0-rc-0", "3.2.0-pre.0+39ccd288", "3.2.0-pre.0", "3.2.0-rc+8fd7eec2", "3.2.0-rc", "3.2.0+f29519e7", "3.2.0", "4.0.0-beta-0+9dd90d8b", "4.0.0-beta-0", "4.0.0-rc-0+5407df1c", "4.0.0-rc-0", "4.0.0-pre.0+edb4d8e1", "4.0.0-pre.0", "4.0.0-rc+0ce22117", "4.0.0-rc", "4.0.0+c07e21a2", "4.0.0"]}
	${"0.2.6-experimental+4760bcd3"} | ${["0.2.6-experimental+6d7c17ea", "0.2.6-experimental+cc9e9d31", "0.2.6-experimental", "0.2.6-experimental.0+d28d5bcf", "0.2.6-experimental.0", "0.2.6-experimental-0+066b4896", "0.2.6-experimental-0", "0.2.6-alpha.0+4760bcd3", "0.2.6-alpha.0+bfec909e", "0.2.6-alpha.0", "0.2.6-beta-0+4760bcd3", "0.2.6-beta-0+613a2920", "0.2.6-beta-0", "0.2.6-rc+4760bcd3", "0.2.6-rc+2e69d8d5", "0.2.6-rc", "0.2.6+4760bcd3", "0.2.6+1b83b15b", "0.2.6", "0.3.0-alpha.0+4760bcd3", "0.3.0-alpha.0+0677a3aa", "0.3.0-alpha.0", "0.3.0-beta-0+4760bcd3", "0.3.0-beta-0+1d59851c", "0.3.0-beta-0", "0.3.0-experimental+4760bcd3", "0.3.0-experimental+161af374", "0.3.0-experimental", "0.3.0+4760bcd3", "0.3.0+59fd7424", "0.3.0", "1.0.0-alpha.0+4760bcd3", "1.0.0-alpha.0+c0b48f40", "1.0.0-alpha.0", "1.0.0-beta-0+4760bcd3", "1.0.0-beta-0+ab1e576f", "1.0.0-beta-0", "1.0.0-experimental+4760bcd3", "1.0.0-experimental+4fd327a0", "1.0.0-experimental", "1.0.0+4760bcd3", "1.0.0+b8d7f603", "1.0.0"]}
	${"6.0.0-insiders+3eb59a21"}     | ${["6.0.0-insiders+a0d2c4f8", "6.0.0-insiders+2d791935", "6.0.0-insiders", "6.0.0-insiders-0+ef39f0ba", "6.0.0-insiders-0", "6.0.0-insiders.0+8a4f973a", "6.0.0-insiders.0", "6.0.0-prerelease.0+3eb59a21", "6.0.0-prerelease.0+17148157", "6.0.0-prerelease.0", "6.0.0-0+3eb59a21", "6.0.0-0+9050d057", "6.0.0-0", "6.0.0-next+3eb59a21", "6.0.0-next+474cee14", "6.0.0-next", "6.0.0+3eb59a21", "6.0.0+a3ec5d53", "6.0.0"]}
	${"1.5.0-next"}                  | ${["1.5.0-next.0+b7988584", "1.5.0-next.0", "1.5.0-next-0+5c29387c", "1.5.0-next-0", "1.5.0-alpha.0+05f7ccba", "1.5.0-alpha.0+33d619a7", "1.5.0-alpha.0", "1.5.0-beta-0+14802968", "1.5.0-beta-0+9f78d81b", "1.5.0-beta-0", "1.5.0-experimental+762210f0", "1.5.0-experimental+16f320c5", "1.5.0-experimental", "1.5.0+d6b39e17", "1.5.0+864befbf", "1.5.0", "2.0.0-alpha.0+a91d2dd2", "2.0.0-alpha.0", "2.0.0-beta-0+adfcdc15", "2.0.0-beta-0", "2.0.0-experimental+d0f0e76d", "2.0.0-experimental", "2.0.0+5a6b9b49", "2.0.0"]}
	${"3.0.6-latest"}                | ${["3.0.6-latest-0+81aba6ce", "3.0.6-latest-0", "3.0.6-latest.0+2968571b", "3.0.6-latest.0", "3.0.6-canary.0+a96e3f31", "3.0.6-canary.0+15a14be4", "3.0.6-canary.0", "3.0.6-nightly-0+49f9850b", "3.0.6-nightly-0+fb8925f4", "3.0.6-nightly-0", "3.0.6-prerelease+f52d80c6", "3.0.6-prerelease+d77c2f3a", "3.0.6-prerelease", "3.0.6+55b1c9ea", "3.0.6+9655ed35", "3.0.6", "3.1.0-canary.0+02986cae", "3.1.0-canary.0", "3.1.0-nightly-0+feea51d3", "3.1.0-nightly-0", "3.1.0-prerelease+3591335c", "3.1.0-prerelease", "3.1.0+8e8b0076", "3.1.0", "4.0.0-canary.0+07c15a54", "4.0.0-canary.0", "4.0.0-nightly-0+6e2c3ce1", "4.0.0-nightly-0", "4.0.0-prerelease+fcb4974c", "4.0.0-prerelease", "4.0.0+ea9257ca", "4.0.0"]}
	${"1.4.9+8c84705f"}              | ${["1.4.9+56af6729", "1.4.9+67f517a4", "1.4.9", "1.5.0-alpha.0+8c84705f", "1.5.0-alpha.0+17427702", "1.5.0-alpha.0", "1.5.0-beta-0+8c84705f", "1.5.0-beta-0+909c39c3", "1.5.0-beta-0", "1.5.0-next+8c84705f", "1.5.0-next+a6f0ddae", "1.5.0-next", "1.5.0+8c84705f", "1.5.0+56dc30e8", "1.5.0", "2.0.0-alpha.0+8c84705f", "2.0.0-alpha.0+e30f36ef", "2.0.0-alpha.0", "2.0.0-beta-0+8c84705f", "2.0.0-beta-0+e7481b7c", "2.0.0-beta-0", "2.0.0-next+8c84705f", "2.0.0-next+e4a1fb2f", "2.0.0-next", "2.0.0+8c84705f", "2.0.0+28e5122e", "2.0.0"]}
	${"10.1.0+16282a96"}             | ${["10.1.0+98d1e4a6", "10.1.0+2f2b06ac", "10.1.0", "11.0.0-canary.0+16282a96", "11.0.0-canary.0+658a1183", "11.0.0-canary.0", "11.0.0-rc-0+16282a96", "11.0.0-rc-0+3019d98e", "11.0.0-rc-0", "11.0.0-experimental+16282a96", "11.0.0-experimental+b7d82642", "11.0.0-experimental", "11.0.0+16282a96", "11.0.0+0fb8507b", "11.0.0"]}
	${"1.0.0"}                       | ${["1.0.1-alpha.0+7b224adb", "1.0.1-alpha.0", "1.0.1-alpha-0+7b224adb", "1.0.1-alpha-0", "1.0.1-beta.0+6d335cd2", "1.0.1-beta.0", "1.0.1-beta-0+6d335cd2", "1.0.1-beta-0", "1.0.1-experimental+5569fd6e", "1.0.1-experimental", "1.0.1-rc+b9411401", "1.0.1-rc", "1.0.1", "1.1.0-alpha.0+2099ad5a", "1.1.0-alpha.0", "1.1.0-alpha-0+2099ad5a", "1.1.0-alpha-0", "1.1.0-beta.0+9cc79e43", "1.1.0-beta.0", "1.1.0-beta-0+9cc79e43", "1.1.0-beta-0", "1.1.0-experimental+e955894c", "1.1.0-experimental", "1.1.0-rc+72fa56e6", "1.1.0-rc", "1.1.0", "2.0.0-alpha.0+ca9cb714", "2.0.0-alpha.0", "2.0.0-alpha-0+ca9cb714", "2.0.0-alpha-0", "2.0.0-beta.0+7502118f", "2.0.0-beta.0", "2.0.0-beta-0+7502118f", "2.0.0-beta-0", "2.0.0-experimental+72f0b70f", "2.0.0-experimental", "2.0.0-rc+ac0d3836", "2.0.0-rc", "2.0.0"]}
	${"7.2.6"}                       | ${["7.2.7-rc.0+dc1c8148", "7.2.7-rc.0", "7.2.7-rc-0+dc1c8148", "7.2.7-rc-0", "7.2.7-next.0+290e59bd", "7.2.7-next.0", "7.2.7-next-0+290e59bd", "7.2.7-next-0", "7.2.7-insiders+6b4998cf", "7.2.7-insiders", "7.2.7-latest+31e50b6a", "7.2.7-latest", "7.2.7", "7.3.0-rc.0+40528259", "7.3.0-rc.0", "7.3.0-rc-0+40528259", "7.3.0-rc-0", "7.3.0-next.0+32562b75", "7.3.0-next.0", "7.3.0-next-0+32562b75", "7.3.0-next-0", "7.3.0-insiders+23cee931", "7.3.0-insiders", "7.3.0-latest+5f990a24", "7.3.0-latest", "7.3.0", "8.0.0-rc.0+61a1abf1", "8.0.0-rc.0", "8.0.0-rc-0+61a1abf1", "8.0.0-rc-0", "8.0.0-next.0+1fe44165", "8.0.0-next.0", "8.0.0-next-0+1fe44165", "8.0.0-next-0", "8.0.0-insiders+e0baff7a", "8.0.0-insiders", "8.0.0-latest+99c3e77b", "8.0.0-latest", "8.0.0"]}
`(
	"when the current version is $current",
	(props: {
		current: SemanticVersionString
		validNextVersions: Array<SemanticVersionString>
	}) => {
		it("accepts a valid subsequent version", () => {
			expect(
				props.validNextVersions.filter((nextVersion) =>
					isSequentialUpgrade(props.current, nextVersion),
				),
			).toEqual(props.validNextVersions)
		})
	},
)

describe.each`
	current                          | invalidNextVersions
	${"0.0.1-beta.2+0d8c026a"}       | ${["0.0.1-beta.2+0d8c026a", "0.0.1-beta-2+1a52fb20", "0.0.1-beta.1+007f48e2", "0.0.1-beta.1", "0.0.1-beta.4+ca730c63", "0.0.1-beta.4", "0.0.1-rc.1+f3e340be", "0.0.1-rc.1", "0.0.2-beta.0+0d8c026a", "0.0.2-beta.0+6d852c7f", "0.0.2-beta.0", "0.0.2-rc.0+85ed679e", "0.0.2-rc.0", "0.0.2-next+4b1cf8f3", "0.0.2-next", "0.0.2+745852e7", "0.0.2", "0.0.3-beta.0+04b40bda", "0.0.3-beta.0", "0.0.3-rc.0+820af4fe", "0.0.3-rc.0", "0.0.3-next+4a561370", "0.0.3-next", "0.0.3+f2f1ea0d", "0.0.3", "0.1.1-alpha.0+d74601c7", "0.1.1-alpha.0", "0.1.1-next+e9097f65", "0.1.1-next", "0.1.1+93c2efc9", "0.1.1", "0.2.0-alpha.0+506281a3", "0.2.0-alpha.0", "0.2.0-next+e615425b", "0.2.0-next", "0.2.0+9a804abd", "0.2.0", "1.0.1-alpha.0+aa85263d", "1.0.1-alpha.0", "1.0.1-next+bc6a4d53", "1.0.1-next", "1.0.1+5b9983fa", "1.0.1", "1.1.0-alpha.0+d6fda56a", "1.1.0-alpha.0", "1.1.0-next+9e39f206", "1.1.0-next", "1.1.0+27dc591e", "1.1.0", "2.0.0-alpha.0+574422c4", "2.0.0-alpha.0", "2.0.0-next+646a1e62", "2.0.0-next", "2.0.0+81baeabe", "2.0.0", "0.0.0-alpha.0+7b70076b", "0.0.0-alpha.0", "0.0.0-rc+73086885", "0.0.0-rc", "0.0.0+bc21c4b2", "0.0.0"]}
	${"0.0.1-beta-2+0d8c026a"}       | ${["0.0.1-beta-2+0d8c026a", "0.0.1-beta.2+1a52fb20", "0.0.1-beta-1+007f48e2", "0.0.1-beta-1", "0.0.1-beta-4+ca730c63", "0.0.1-beta-4", "0.0.1-rc-1+f3e340be", "0.0.1-rc-1", "0.0.2-beta-0+0d8c026a", "0.0.2-beta-0+6d852c7f", "0.0.2-beta-0", "0.0.2-rc-0+85ed679e", "0.0.2-rc-0", "0.0.2-next+4b1cf8f3", "0.0.2-next", "0.0.2+745852e7", "0.0.2", "0.0.3-beta-0+04b40bda", "0.0.3-beta-0", "0.0.3-rc-0+820af4fe", "0.0.3-rc-0", "0.0.3-next+4a561370", "0.0.3-next", "0.0.3+f2f1ea0d", "0.0.3", "0.1.1-alpha-0+d74601c7", "0.1.1-alpha-0", "0.1.1-next+e9097f65", "0.1.1-next", "0.1.1+93c2efc9", "0.1.1", "0.2.0-alpha-0+506281a3", "0.2.0-alpha-0", "0.2.0-next+e615425b", "0.2.0-next", "0.2.0+9a804abd", "0.2.0", "1.0.1-alpha-0+aa85263d", "1.0.1-alpha-0", "1.0.1-next+bc6a4d53", "1.0.1-next", "1.0.1+5b9983fa", "1.0.1", "1.1.0-alpha-0+d6fda56a", "1.1.0-alpha-0", "1.1.0-next+9e39f206", "1.1.0-next", "1.1.0+27dc591e", "1.1.0", "2.0.0-alpha-0+574422c4", "2.0.0-alpha-0", "2.0.0-next+646a1e62", "2.0.0-next", "2.0.0+81baeabe", "2.0.0", "0.0.0-alpha-0+7b70076b", "0.0.0-alpha-0", "0.0.0-rc+73086885", "0.0.0-rc", "0.0.0+bc21c4b2", "0.0.0"]}
	${"2.11.3-nightly.0+598094ca"}   | ${["2.11.3-nightly.0+598094ca", "2.11.3-nightly-0+daf25ae8", "2.11.3-nightly.2+124c1b79", "2.11.3-nightly.2", "2.11.3-beta.1+dba5a654", "2.11.3-beta.1", "2.11.4-nightly.0+598094ca", "2.11.4-nightly.0+809ecbe5", "2.11.4-nightly.0", "2.11.4-rc.0+91c1294d", "2.11.4-rc.0", "2.11.4-next+12128735", "2.11.4-next", "2.11.4+2fc068dd", "2.11.4", "2.11.5-nightly.0+6826e318", "2.11.5-nightly.0", "2.11.5-rc.0+ef444792", "2.11.5-rc.0", "2.11.5-next+7444f542", "2.11.5-next", "2.11.5+b3d7b871", "2.11.5", "2.12.1-nightly.0+163dcc52", "2.12.1-nightly.0", "2.12.1-rc.0+b7e2d225", "2.12.1-rc.0", "2.12.1-next+bba32047", "2.12.1-next", "2.12.1+dcefbd46", "2.12.1", "2.13.0-nightly.0+e5189b35", "2.13.0-nightly.0", "2.13.0-rc.0+b7369d3a", "2.13.0-rc.0", "2.13.0-next+396a34a2", "2.13.0-next", "2.13.0+65e6e9f2", "2.13.0", "3.0.1-nightly.0+dcee2320", "3.0.1-nightly.0", "3.0.1-rc.0+a89ba5cf", "3.0.1-rc.0", "3.0.1-next+7f2a38c1", "3.0.1-next", "3.0.1+84b2705f", "3.0.1", "4.0.0-nightly.0+3ebe3c99", "4.0.0-nightly.0", "4.0.0-rc.0+4a9faab4", "4.0.0-rc.0", "4.0.0-next+18af9292", "4.0.0-next", "4.0.0+a4baa6bf", "4.0.0", "2.11.2-nightly.0+598094ca", "2.11.2-nightly.0+5de2f5fc", "2.11.2-nightly.0", "2.11.2-rc.0+d167b0ea", "2.11.2-rc.0", "2.11.2-next+70254145", "2.11.2-next", "2.11.2+02026165", "2.11.2", "2.11.0-nightly.0+723a5239", "2.11.0-nightly.0", "2.11.0-rc.0+40555019", "2.11.0-rc.0", "2.11.0-next+8ed44d59", "2.11.0-next", "2.11.0+a3c2f3e5", "2.11.0", "2.10.3-nightly.0+598094ca", "2.10.3-nightly.0+5ad2a28c", "2.10.3-nightly.0", "2.10.3-rc.0+66fa8a22", "2.10.3-rc.0", "2.10.3-next+7d942161", "2.10.3-next", "2.10.3+a2d5bfe2", "2.10.3", "2.0.0-nightly.0+dbb1e87c", "2.0.0-nightly.0", "2.0.0-rc.0+eebfe8be", "2.0.0-rc.0", "2.0.0-next+0f9f1c76", "2.0.0-next", "2.0.0+df6c0eac", "2.0.0", "1.11.3-nightly.0+598094ca", "1.11.3-nightly.0+3014d0a1", "1.11.3-nightly.0", "1.11.3-rc.0+1f509b33", "1.11.3-rc.0", "1.11.3-next+28504f01", "1.11.3-next", "1.11.3+a66183d1", "1.11.3", "0.0.0-nightly.0+4ed594f7", "0.0.0-nightly.0", "0.0.0-rc.0+16b7f80d", "0.0.0-rc.0", "0.0.0-next+efe85ce0", "0.0.0-next", "0.0.0+414d68c2", "0.0.0"]}
	${"2.11.3-nightly-0+598094ca"}   | ${["2.11.3-nightly-0+598094ca", "2.11.3-nightly.0+daf25ae8", "2.11.3-nightly-2+124c1b79", "2.11.3-nightly-2", "2.11.3-beta-1+dba5a654", "2.11.3-beta-1", "2.11.4-nightly-0+598094ca", "2.11.4-nightly-0+809ecbe5", "2.11.4-nightly-0", "2.11.4-rc-0+91c1294d", "2.11.4-rc-0", "2.11.4-next+12128735", "2.11.4-next", "2.11.4+2fc068dd", "2.11.4", "2.11.5-nightly-0+6826e318", "2.11.5-nightly-0", "2.11.5-rc-0+ef444792", "2.11.5-rc-0", "2.11.5-next+7444f542", "2.11.5-next", "2.11.5+b3d7b871", "2.11.5", "2.12.1-nightly-0+163dcc52", "2.12.1-nightly-0", "2.12.1-rc-0+b7e2d225", "2.12.1-rc-0", "2.12.1-next+bba32047", "2.12.1-next", "2.12.1+dcefbd46", "2.12.1", "2.13.0-nightly-0+e5189b35", "2.13.0-nightly-0", "2.13.0-rc-0+b7369d3a", "2.13.0-rc-0", "2.13.0-next+396a34a2", "2.13.0-next", "2.13.0+65e6e9f2", "2.13.0", "3.0.1-nightly-0+dcee2320", "3.0.1-nightly-0", "3.0.1-rc-0+a89ba5cf", "3.0.1-rc-0", "3.0.1-next+7f2a38c1", "3.0.1-next", "3.0.1+84b2705f", "3.0.1", "4.0.0-nightly-0+3ebe3c99", "4.0.0-nightly-0", "4.0.0-rc-0+4a9faab4", "4.0.0-rc-0", "4.0.0-next+18af9292", "4.0.0-next", "4.0.0+a4baa6bf", "4.0.0", "2.11.2-nightly-0+598094ca", "2.11.2-nightly-0+5de2f5fc", "2.11.2-nightly-0", "2.11.2-rc-0+d167b0ea", "2.11.2-rc-0", "2.11.2-next+70254145", "2.11.2-next", "2.11.2+02026165", "2.11.2", "2.11.0-nightly-0+723a5239", "2.11.0-nightly-0", "2.11.0-rc-0+40555019", "2.11.0-rc-0", "2.11.0-next+8ed44d59", "2.11.0-next", "2.11.0+a3c2f3e5", "2.11.0", "2.10.3-nightly-0+598094ca", "2.10.3-nightly-0+5ad2a28c", "2.10.3-nightly-0", "2.10.3-rc-0+66fa8a22", "2.10.3-rc-0", "2.10.3-next+7d942161", "2.10.3-next", "2.10.3+a2d5bfe2", "2.10.3", "2.0.0-nightly-0+dbb1e87c", "2.0.0-nightly-0", "2.0.0-rc-0+eebfe8be", "2.0.0-rc-0", "2.0.0-next+0f9f1c76", "2.0.0-next", "2.0.0+df6c0eac", "2.0.0", "1.11.3-nightly-0+598094ca", "1.11.3-nightly-0+3014d0a1", "1.11.3-nightly-0", "1.11.3-rc-0+1f509b33", "1.11.3-rc-0", "1.11.3-next+28504f01", "1.11.3-next", "1.11.3+a66183d1", "1.11.3", "0.0.0-nightly-0+4ed594f7", "0.0.0-nightly-0", "0.0.0-rc-0+16b7f80d", "0.0.0-rc-0", "0.0.0-next+efe85ce0", "0.0.0-next", "0.0.0+414d68c2", "0.0.0"]}
	${"0.5.0-alpha.4"}               | ${["0.5.0-alpha.4", "0.5.0-alpha-4", "0.5.0-alpha.4+d3834e5f", "0.5.0-alpha-5+ce26c4b5", "0.5.0-alpha-5", "0.5.0-alpha.3+087a894e", "0.5.0-alpha.3", "0.5.0-alpha.6+d3834e5f", "0.5.0-alpha.6", "0.5.0-beta.1+b8ec05bf", "0.5.0-beta.1", "0.5.0-beta-1+4abdb771", "0.5.0-beta-1", "0.5.1-alpha.0+ace87ce1", "0.5.1-alpha.0", "0.5.1-next+96c631cd", "0.5.1-next", "0.5.1+91e49ca3", "0.5.1", "0.6.1-alpha.0+629451d8", "0.6.1-alpha.0", "0.6.1-next+4a857d31", "0.6.1-next", "0.6.1+6a498868", "0.6.1", "0.7.0-alpha.0+a7c95060", "0.7.0-alpha.0", "0.7.0-next+7bf2df7e", "0.7.0-next", "0.7.0+5ec9f82b", "0.7.0", "1.0.1-alpha.0+d42fcee2", "1.0.1-alpha.0", "1.0.1-next+91e29ca8", "1.0.1-next", "1.0.1+819221e0", "1.0.1", "2.0.0-alpha.0+05826203", "2.0.0-alpha.0", "2.0.0-next+7d5b0061", "2.0.0-next", "2.0.0+6d0dffeb", "2.0.0", "0.4.9-alpha.0+ff115367", "0.4.9-alpha.0", "0.4.9-next+e6094185", "0.4.9-next", "0.4.9+6d63b9a4", "0.4.9", "0.0.0-alpha.0+440c7d35", "0.0.0-alpha.0", "0.0.0-next+4158294f", "0.0.0-next", "0.0.0+ff058578", "0.0.0"]}
	${"0.5.0-alpha-4"}               | ${["0.5.0-alpha-4", "0.5.0-alpha.4", "0.5.0-alpha-4+d3834e5f", "0.5.0-alpha.5+ce26c4b5", "0.5.0-alpha.5", "0.5.0-alpha-3+087a894e", "0.5.0-alpha-3", "0.5.0-alpha-6+d3834e5f", "0.5.0-alpha-6", "0.5.0-beta-1+b8ec05bf", "0.5.0-beta-1", "0.5.0-beta.1+4abdb771", "0.5.0-beta.1", "0.5.1-alpha-0+ace87ce1", "0.5.1-alpha-0", "0.5.1-next+96c631cd", "0.5.1-next", "0.5.1+91e49ca3", "0.5.1", "0.6.1-alpha-0+629451d8", "0.6.1-alpha-0", "0.6.1-next+4a857d31", "0.6.1-next", "0.6.1+6a498868", "0.6.1", "0.7.0-alpha-0+a7c95060", "0.7.0-alpha-0", "0.7.0-next+7bf2df7e", "0.7.0-next", "0.7.0+5ec9f82b", "0.7.0", "1.0.1-alpha-0+d42fcee2", "1.0.1-alpha-0", "1.0.1-next+91e29ca8", "1.0.1-next", "1.0.1+819221e0", "1.0.1", "2.0.0-alpha-0+05826203", "2.0.0-alpha-0", "2.0.0-next+7d5b0061", "2.0.0-next", "2.0.0+6d0dffeb", "2.0.0", "0.4.9-alpha-0+ff115367", "0.4.9-alpha-0", "0.4.9-next+e6094185", "0.4.9-next", "0.4.9+6d63b9a4", "0.4.9", "0.0.0-alpha-0+440c7d35", "0.0.0-alpha-0", "0.0.0-next+4158294f", "0.0.0-next", "0.0.0+ff058578", "0.0.0"]}
	${"3.1.1-beta.1"}                | ${["3.1.1-beta.1", "3.1.1-beta-1", "3.1.1-beta.1+e24dbb45", "3.1.1-beta-2+665d9899", "3.1.1-beta-2", "3.1.1-beta.0+ec283710", "3.1.1-beta.0", "3.1.1-beta.3+59da06a5", "3.1.1-beta.3", "3.1.1-rc.1+0d73995b", "3.1.1-rc.1", "3.1.1-rc-1+f9dd008e", "3.1.1-rc-1", "3.1.2-beta.0+d6fee518", "3.1.2-beta.0", "3.1.2-next+8b422fb8", "3.1.2-next", "3.1.2+adfeb440", "3.1.2", "3.2.0-beta.1+66134cb4", "3.2.0-beta.1", "3.2.0-beta-1+6120a547", "3.2.0-beta-1", "3.2.1-beta.0+536df958", "3.2.1-beta.0", "3.2.1-next+92f3c706", "3.2.1-next", "3.2.1+024c5efe", "3.2.1", "3.3.0-beta.0+bdb30547", "3.3.0-beta.0", "3.3.0-next+95283bb7", "3.3.0-next", "3.3.0+71431ace", "3.3.0", "4.0.0-beta.1+c24939e4", "4.0.0-beta.1", "4.0.0-beta-1+abc5bd99", "4.0.0-beta-1", "4.0.1-beta.0+e26fd6c3", "4.0.1-beta.0", "4.0.1-next+f383d04f", "4.0.1-next", "4.0.1+b443cd23", "4.0.1", "5.0.0-beta.0+f9b412f0", "5.0.0-beta.0", "5.0.0-next+dca27927", "5.0.0-next", "5.0.0+c5e80af8", "5.0.0", "3.1.0-beta.0+a1de0c4f", "3.1.0-beta.0", "3.1.0-next+80461578", "3.1.0-next", "3.1.0+843e44fc", "3.1.0", "3.0.1-beta.0+a7c92eb3", "3.0.1-beta.0", "3.0.1-next+4a0ca765", "3.0.1-next", "3.0.1+426aa6af", "3.0.1", "3.0.0-beta.0+d68cfba0", "3.0.0-beta.0", "3.0.0-next+bd44d180", "3.0.0-next", "3.0.0+96cfb412", "3.0.0", "2.0.0-beta.0+205d0bfa", "2.0.0-beta.0", "2.0.0-next+2a105885", "2.0.0-next", "2.0.0+a23ce130", "2.0.0", "0.0.0-beta.0+cf1e1c9d", "0.0.0-beta.0", "0.0.0-next+686d5f41", "0.0.0-next", "0.0.0+b0449aca", "0.0.0"]}
	${"3.1.1-beta-1"}                | ${["3.1.1-beta-1", "3.1.1-beta.1", "3.1.1-beta-1+e24dbb45", "3.1.1-beta.2+665d9899", "3.1.1-beta.2", "3.1.1-beta-0+ec283710", "3.1.1-beta-0", "3.1.1-beta-3+59da06a5", "3.1.1-beta-3", "3.1.1-rc-1+0d73995b", "3.1.1-rc-1", "3.1.1-rc.1+f9dd008e", "3.1.1-rc.1", "3.1.2-beta-0+d6fee518", "3.1.2-beta-0", "3.1.2-next+8b422fb8", "3.1.2-next", "3.1.2+adfeb440", "3.1.2", "3.2.0-beta-1+66134cb4", "3.2.0-beta-1", "3.2.0-beta.1+6120a547", "3.2.0-beta.1", "3.2.1-beta-0+536df958", "3.2.1-beta-0", "3.2.1-next+92f3c706", "3.2.1-next", "3.2.1+024c5efe", "3.2.1", "3.3.0-beta-0+bdb30547", "3.3.0-beta-0", "3.3.0-next+95283bb7", "3.3.0-next", "3.3.0+71431ace", "3.3.0", "4.0.0-beta-1+c24939e4", "4.0.0-beta-1", "4.0.0-beta.1+abc5bd99", "4.0.0-beta.1", "4.0.1-beta-0+e26fd6c3", "4.0.1-beta-0", "4.0.1-next+f383d04f", "4.0.1-next", "4.0.1+b443cd23", "4.0.1", "5.0.0-beta-0+f9b412f0", "5.0.0-beta-0", "5.0.0-next+dca27927", "5.0.0-next", "5.0.0+c5e80af8", "5.0.0", "3.1.0-beta-0+a1de0c4f", "3.1.0-beta-0", "3.1.0-next+80461578", "3.1.0-next", "3.1.0+843e44fc", "3.1.0", "3.0.1-beta-0+a7c92eb3", "3.0.1-beta-0", "3.0.1-next+4a0ca765", "3.0.1-next", "3.0.1+426aa6af", "3.0.1", "3.0.0-beta-0+d68cfba0", "3.0.0-beta-0", "3.0.0-next+bd44d180", "3.0.0-next", "3.0.0+96cfb412", "3.0.0", "2.0.0-beta-0+205d0bfa", "2.0.0-beta-0", "2.0.0-next+2a105885", "2.0.0-next", "2.0.0+a23ce130", "2.0.0", "0.0.0-beta-0+cf1e1c9d", "0.0.0-beta-0", "0.0.0-next+686d5f41", "0.0.0-next", "0.0.0+b0449aca", "0.0.0"]}
	${"0.2.6-experimental+4760bcd3"} | ${["0.2.6-experimental+4760bcd3", "0.2.6-experimental.1+4ef9b505", "0.2.6-experimental.1", "0.2.6-experimental-1+581b159b", "0.2.6-experimental-1", "0.2.6-beta.2+36b445cd", "0.2.6-beta.2", "0.2.6-beta-2+1b84a31d", "0.2.6-beta-2", "0.2.7-beta.0+8adf10be", "0.2.7-beta.0", "0.2.7-next+efeebdf7", "0.2.7-next", "0.2.7+d5bc8eb1", "0.2.7", "0.2.8-beta.0+9e7cb6d2", "0.2.8-beta.0", "0.2.8-next+8923dbfa", "0.2.8-next", "0.2.8+cbb74638", "0.2.8", "0.3.0-beta.1+09a7413c", "0.3.0-beta.1", "0.3.1-beta.0+7788357e", "0.3.1-beta.0", "0.3.1-next+c0de7bbc", "0.3.1-next", "0.3.1+ce57e7ec", "0.3.1", "0.4.0-beta.0+9a83c579", "0.4.0-beta.0", "0.4.0-next+b5797b22", "0.4.0-next", "0.4.0+125afbf6", "0.4.0", "1.0.0-beta.1+5f406954", "1.0.0-beta.1", "1.0.1-beta.0+901a4362", "1.0.1-beta.0", "1.0.1-next+186669dd", "1.0.1-next", "1.0.1+91d42666", "1.0.1", "1.1.0-beta.0+26fdda77", "1.1.0-beta.0", "1.1.0-next+a4935eab", "1.1.0-next", "1.1.0+ae6ef0b9", "1.1.0", "2.0.0-beta.0+6353d58e", "2.0.0-beta.0", "2.0.0-next+a737be16", "2.0.0-next", "2.0.0+51c4f0bb", "2.0.0", "0.2.5-beta.0+2dfb1c6e", "0.2.5-beta.0", "0.2.5-next+3b465e6b", "0.2.5-next", "0.2.5+66f241f1", "0.2.5", "0.1.9-beta.0+baa69e9f", "0.1.9-beta.0", "0.1.9-next+62759516", "0.1.9-next", "0.1.9+dfbd1dde", "0.1.9", "0.1.0-beta.0+ea38c092", "0.1.0-beta.0", "0.1.0-next+09c576df", "0.1.0-next", "0.1.0+104d5a18", "0.1.0", "0.0.0-beta.0+a0d9ba4a", "0.0.0-beta.0", "0.0.0-next+900e5a2c", "0.0.0-next", "0.0.0+d1b93004", "0.0.0"]}
	${"6.0.0-insiders+3eb59a21"}     | ${["6.0.0-insiders+3eb59a21", "6.0.0-insiders-1+5b289bfc", "6.0.0-insiders-1", "6.0.0-insiders.1+f41cbdf7", "6.0.0-insiders.1", "6.0.0-2+0a1fa0c3", "6.0.0-2", "6.0.0-rc.2+98079d4c", "6.0.0-rc.2", "6.0.1-insiders-0+4b4d349a", "6.0.1-insiders-0", "6.0.1-rc+5f89f482", "6.0.1-rc", "6.0.1+1247db22", "6.0.1", "6.0.2-insiders-0+f3638d69", "6.0.2-insiders-0", "6.0.2-rc+a19eac57", "6.0.2-rc", "6.0.2+bbf0ead2", "6.0.2", "6.2.0-insiders-0+7864a1b6", "6.2.0-insiders-0", "6.2.0-rc+cfd10579", "6.2.0-rc", "6.2.0+e52bd195", "6.2.0", "8.0.0-insiders-0+3cd01bda", "8.0.0-insiders-0", "8.0.0-rc+9aa53ae4", "8.0.0-rc", "8.0.0+96de8b45", "8.0.0", "5.9.2-insiders-0+f9d72d9a", "5.9.2-insiders-0", "5.9.2-rc+d0b2e489", "5.9.2-rc", "5.9.2+c5c173ef", "5.9.2", "5.1.0-insiders-0+6fc25f12", "5.1.0-insiders-0", "5.1.0-rc+6b99b6ab", "5.1.0-rc", "5.1.0+b542f4ba", "5.1.0", "5.0.0-insiders-0+3f09cfd4", "5.0.0-insiders-0", "5.0.0-rc+ad1fccc5", "5.0.0-rc", "5.0.0+081c90be", "5.0.0", "4.0.0-insiders-0+00e48252", "4.0.0-insiders-0", "4.0.0-rc+b2108800", "4.0.0-rc", "4.0.0+afd27bbb", "4.0.0", "0.2.0-insiders-0+7bad58a1", "0.2.0-insiders-0", "0.2.0-rc+736aab59", "0.2.0-rc", "0.2.0+fc49ca0b", "0.2.0", "0.0.0-insiders-0+4119f89e", "0.0.0-insiders-0", "0.0.0-rc+cad456b4", "0.0.0-rc", "0.0.0+c688635d", "0.0.0"]}
	${"1.5.0-next"}                  | ${["1.5.0-next", "1.5.0-next+dd621d7e", "1.5.0-alpha.1+29c1f325", "1.5.0-alpha.1", "1.5.0-alpha-1+ef29000b", "1.5.0-alpha-1", "1.5.0-beta.2+c08ffe50", "1.5.0-beta.2", "1.5.1-alpha.0+22a42a77", "1.5.1-alpha.0", "1.5.1-next+8921a413", "1.5.1-next", "1.5.1+9c03f89d", "1.5.1", "1.6.0-alpha.1+11eff3b0", "1.6.0-alpha.1", "1.6.0-beta-2+9bab3167", "1.6.0-beta-2", "1.6.1-alpha.0+179b5be9", "1.6.1-alpha.0", "1.6.1-beta-1+0bdc1aae", "1.6.1-beta-1", "1.6.1-next+9e14de72", "1.6.1-next", "1.6.1+f71a1c8f", "1.6.1", "1.7.0-alpha.0+3140c505", "1.7.0-alpha.0", "1.7.0-next+17a56f50", "1.7.0-next", "1.7.0+6559045c", "1.7.0", "2.0.0-alpha.1+716c020c", "2.0.0-alpha.1", "2.0.0-beta-2+3821bff2", "2.0.0-beta-2", "2.0.1-alpha.0+db74a884", "2.0.1-alpha.0", "2.0.1-next+5d00e122", "2.0.1-next", "2.0.1+a590ebdb", "2.0.1", "3.0.0-alpha.0+8b8a36a8", "3.0.0-alpha.0", "3.0.0-next+3f983ae5", "3.0.0-next", "3.0.0+825bef98", "3.0.0", "1.4.9-alpha.0+0e56c86c", "1.4.9-alpha.0", "1.4.9-next+dfe13439", "1.4.9-next", "1.4.9+0364f21e", "1.4.9", "1.4.0-alpha.0+498a5185", "1.4.0-alpha.0", "1.4.0-next+0ef8886a", "1.4.0-next", "1.4.0+f43ae409", "1.4.0", "1.0.0-alpha.0+c8f78ece", "1.0.0-alpha.0", "1.0.0+3dc4b596", "1.0.0-next+3a105509", "1.0.0-next", "1.0.0", "0.5.0-alpha.0+6c391a09", "0.5.0-alpha.0", "0.5.0-next+dd408de5", "0.5.0-next", "0.5.0+8fd5a710", "0.5.0", "0.0.7-alpha.0+6f995b03", "0.0.7-alpha.0", "0.0.7-next+b0a42d5b", "0.0.7-next", "0.0.7+0a282702", "0.0.7", "0.0.0-alpha.0+b8dc0097", "0.0.0-alpha.0", "0.0.0-next+01c0ffbe", "0.0.0-next", "0.0.0+fddc7372", "0.0.0"]}
	${"3.0.6-latest"}                | ${["3.0.6-latest", "3.0.6-latest+d987cae7", "3.0.6-rc-1+f5f1e6d6", "3.0.6-rc-1", "3.0.6-rc.1+8505687a", "3.0.6-rc.1", "3.0.6-beta-2+11fe440b", "3.0.6-beta-2", "3.0.7-rc-0+85560db6", "3.0.7-rc-0", "3.0.7-latest+484c6dab", "3.0.7-latest", "3.0.7+66d84da8", "3.0.7", "3.1.0-rc-1+3325075d", "3.1.0-rc-1", "3.1.1-rc-0+d974df6d", "3.1.1-rc-0", "3.1.1-latest+fd51b870", "3.1.1-latest", "3.1.1+84dfd185", "3.1.1", "3.2.0-rc-0+88963719", "3.2.0-rc-0", "3.2.0-latest+c781ab84", "3.2.0-latest", "3.2.0+64deaeb8", "3.2.0", "4.0.0-beta.2+d36fe2d9", "4.0.0-beta.2", "4.0.0-rc-1+05ecfa42", "4.0.0-rc-1", "4.0.1-rc-0+187a8489", "4.0.1-rc-0", "4.0.1-latest+7e661819", "4.0.1-latest", "4.0.1+6d009db6", "4.0.1", "4.1.0-rc-0+ea1e89e1", "4.1.0-rc-0", "4.1.0-latest+82de0f67", "4.1.0-latest", "4.1.0+d20dd120", "4.1.0", "5.0.0-rc-0+0fcbf191", "5.0.0-rc-0", "5.0.0-latest+bc39fa6b", "5.0.0-latest", "5.0.0+c71e1ce1", "5.0.0", "3.0.5-rc-0+783db1c5", "3.0.5-rc-0", "3.0.5-latest+bab6b7f6", "3.0.5-latest", "3.0.5+fadef756", "3.0.5", "3.0.0-rc-0+9b059ed1", "3.0.0-rc-0", "3.0.0-latest+d7c850ba", "3.0.7-latest", "3.0.0+ae8c44bb", "3.0.0", "2.2.0-rc-0+edaab24f", "2.2.0-rc-0", "2.2.0-latest+703396df", "2.2.0-latest", "2.2.0+2faa7e3c", "2.2.0", "2.0.6-rc-0+623c0c4e", "2.0.6-rc-0", "2.0.6-latest+cbcf526a", "2.0.6-latest", "2.0.6+726c6c48", "2.0.6", "2.0.0-rc-0+9f4e4783", "2.0.0-rc-0", "2.0.0-latest+6759c23b", "2.0.0-latest", "2.0.0+f70e50f4", "2.0.0", "1.0.6-rc-0+1031f61a", "1.0.6-rc-0", "1.0.6-latest+523acff1", "1.0.6-latest", "1.0.6+4aebde01", "1.0.6", "1.0.0-rc-0+d90076a0", "1.0.0-rc-0", "1.0.0-latest+47f1d47f", "1.0.0-latest", "1.0.0+cc2422db", "1.0.0", "0.0.6-rc-0+99f52c68", "0.0.6-rc-0", "0.0.6-latest+92270d77", "0.0.6-latest", "0.0.6+8763b3e3", "0.0.6", "0.0.0-rc-0+12adcb0c", "0.0.0-rc-0", "0.0.0-latest+f9ae49f1", "0.0.0-latest", "0.0.0+53920042", "0.0.0"]}
	${"1.4.9+8c84705f"}              | ${["1.4.9+8c84705f", "1.4.9-alpha.0+fdaba993", "1.4.9-alpha.0", "1.4.9-alpha-0+65b252dc", "1.4.9-alpha-0", "1.4.9-next+bbcc9d88", "1.4.9-next", "1.4.10-alpha.0+7f186d8f", "1.4.10-alpha.0", "1.4.10-next+d10c00a4", "1.4.10-next", "1.4.10+e9636142", "1.4.10", "1.5.0-alpha.1+116e6ffd", "1.5.0-alpha.1", "1.5.0-beta.2+4a27c5fa", "1.5.0-beta.2", "1.5.1-alpha.0+a31959ab", "1.5.1-alpha.0", "1.5.1-next+e8d2e555", "1.5.1-next", "1.5.1+92d97dd8", "1.5.1", "1.6.0-alpha.0+e5973eb6", "1.6.0-alpha.0", "1.6.0-next+f7e5660e", "1.6.0-next", "1.6.0+83314e04", "1.6.0", "2.0.0-alpha.1+494e21f4", "2.0.0-alpha.1", "2.0.0-beta.2+07a75901", "2.0.0-beta.2", "2.0.1-alpha.0+03dd177a", "2.0.1-alpha.0", "2.0.1-next+0b7bc33d", "2.0.1-next", "2.0.1+15318c9b", "2.0.1", "3.0.0-alpha.0+dca22267", "3.0.0-alpha.0", "3.0.0-next+4e058ba0", "3.0.0-next", "3.0.0+8010eb1e", "3.0.0", "1.4.8-alpha.0+7ec9474d", "1.4.8-alpha.0", "1.4.8-next+74372792", "1.4.8-next", "1.4.8+2b4eee11", "1.4.8", "1.3.9-alpha.0+99dcb7aa", "1.3.9-alpha.0", "1.3.9-next+cfd272b5", "1.3.9-next", "1.3.9+0d2c7967", "1.3.9", "1.2.0-alpha.0+0dd5532d", "1.2.0-alpha.0", "1.2.0-next+38b94487", "1.2.0-next", "1.2.0+e5714d34", "1.2.0", "1.0.0-alpha.0+4dc548fb", "1.0.0-alpha.0", "1.0.0-next+e4f40195", "1.0.0-next", "1.0.0+498e2746", "1.0.0", "0.4.9-alpha.0+1398f438", "0.4.9-alpha.0", "0.4.9-next+57108ca2", "0.4.9-next", "0.4.9+56d415c9", "0.4.9", "0.4.0-alpha.0+85ffbd08", "0.4.0-alpha.0", "0.4.0-next+cf5e030a", "0.4.0-next", "0.4.0+69949051", "0.4.0", "0.0.9-alpha.0+d767affa", "0.0.9-alpha.0", "0.0.9-next+110f1197", "0.0.9-next", "0.0.9+5c203a7b", "0.0.9", "0.0.0-alpha.0+67f15109", "0.0.0-alpha.0", "0.0.0-next+09ba8869", "0.0.0-next", "0.0.0+07fdfe43", "0.0.0"]}
	${"10.1.0+16282a96"}             | ${["10.1.0+16282a96", "10.1.0-beta-0+0745ba3e", "10.1.0-beta-0", "10.1.0-beta.0+92f38787", "10.1.0-beta.0", "10.1.0-next+5c616350", "10.1.0-next", "10.1.1-beta-0+3aaf907d", "10.1.1-beta-0", "10.1.1-next+bcc2a717", "10.1.1-next", "10.1.1+e188ac9d", "10.1.1", "10.1.1-beta-0+5a9a7b04", "10.1.1-beta-0", "10.1.1-next+420fdb46", "10.1.1-next", "10.1.1+75952583", "10.1.1", "10.2.1-beta-0+ad00d9a1", "10.2.1-beta-0", "10.2.1-next+886b220b", "10.2.1-next", "10.2.1+725c0463", "10.2.1", "11.0.0-beta-1+083a8f01", "11.0.0-beta-1", "11.0.1-beta-0+a6b5d720", "11.0.1-beta-0", "11.0.1-next+ed08aa63", "11.0.1-next", "11.0.1+e798312e", "11.0.1", "12.0.0-beta-0+fde21b43", "12.0.0-beta-0", "12.0.0-next+02197f24", "12.0.0-next", "12.0.0+fbab70b6", "12.0.0", "10.0.1-beta-0+a38b4024", "10.0.1-beta-0", "10.0.1-next+e3937400", "10.0.1-next", "10.0.1+be6c7b40", "10.0.1", "10.0.0-beta-0+cdf1c24b", "10.0.0-beta-0", "10.0.0-next+a8948987", "10.0.0-next", "10.0.0+6c79b555", "10.0.0", "9.1.0-beta-0+83b1b831", "9.1.0-beta-0", "9.1.0-next+d85cdfc0", "9.1.0-next", "9.1.0+fbb5af05", "9.1.0", "9.0.0-beta-0+59b0388c", "9.0.0-beta-0", "9.0.0-next+091132fc", "9.0.0-next", "9.0.0+320c8353", "9.0.0", "0.1.0-beta-0+ddd57774", "0.1.0-beta-0", "0.1.0-next+9accdaff", "0.1.0-next", "0.1.0+ad0d42b6", "0.1.0", "0.0.0-beta-0+33a11069", "0.0.0-beta-0", "0.0.0-next+2785eb56", "0.0.0-next", "0.0.0+344ea3bf", "0.0.0"]}
	${"1.0.0"}                       | ${["1.0.0", "1.0.0-alpha.0+0b746baa", "1.0.0-alpha.0", "1.0.0-alpha-0+8664dd52", "1.0.0-alpha-0", "1.0.0-next+80c53b6f", "1.0.0-next", "1.0.0+2d64c87b", "1.0.1-alpha.1+d1f570ca", "1.0.1-alpha.1", "1.0.1-beta.2+3bcca566", "1.0.1-beta.2", "1.0.2-alpha.0+08a567ad", "1.0.2-alpha.0", "1.0.2-next+5f442fef", "1.0.2-next", "1.0.2+cec06919", "1.0.2", "1.1.0-alpha.1+a7466868", "1.1.0-alpha.1", "1.1.0-beta.2+fbddd8eb", "1.1.0-beta.2", "1.1.1-alpha.0+d74899a2", "1.1.1-alpha.0", "1.1.1-next+84609909", "1.1.1-next", "1.1.1+e6872e10", "1.1.1", "2.0.0-alpha.1+84ac98d1", "2.0.0-alpha.1", "2.0.0-beta.2+cf0f7983", "2.0.0-beta.2", "2.0.1-alpha.0+49b39a28", "2.0.1-alpha.0", "2.0.1-next+32e3943e", "2.0.1-next", "2.0.1+69eadb68", "2.0.1", "2.1.0-alpha.0+042a075d", "2.1.0-alpha.0", "2.1.0-next+5b3504a2", "2.1.0-next", "2.1.0+5b2f2b2c", "2.1.0", "3.0.0-alpha.0+383121c4", "3.0.0-alpha.0", "3.0.0-next+120bb3c3", "3.0.0-next", "3.0.0+55fa783d", "3.0.0", "0.9.5-alpha.0+357d7455", "0.9.5-alpha.0", "0.9.5-next+f7071d78", "0.9.5-next", "0.9.5+2fde16b8", "0.9.5", "0.5.0-alpha.0+1d54e1f8", "0.5.0-alpha.0", "0.5.0-next+82838bef", "0.5.0-next", "0.5.0+46d5d2af", "0.5.0", "0.1.1-alpha.0+b9df4a5a", "0.1.1-alpha.0", "0.1.1-next+1aea15e7", "0.1.1-next", "0.1.1+5b04c6f2", "0.1.1", "0.1.0-alpha.0+a51e5167", "0.1.0-alpha.0", "0.1.0-next+cdc93817", "0.1.0-next", "0.1.0+50f946e1", "0.1.0", "0.0.0-alpha.0+bc1d694a", "0.0.0-alpha.0", "0.0.0-next+d08caa16", "0.0.0-next", "0.0.0+4907b785", "0.0.0"]}
	${"7.2.6"}                       | ${["7.2.6", "7.2.6-rc-0+246b6ef5", "7.2.6-rc-0", "7.2.6-rc.0+f44da17b", "7.2.6-rc.0", "7.2.6-prerelease+d39cf1c0", "7.2.6-prerelease", "7.2.6+91b4f2d3", "7.2.7-rc-1+400bdb23", "7.2.7-rc-1", "7.2.7-experimental-2+a4b42840", "7.2.7-experimental-2", "7.2.8-rc-0+201039d8", "7.2.8-rc-0", "7.2.8-prerelease+8cd16b9a", "7.2.8-prerelease", "7.2.8+a1d77550", "7.2.8", "7.3.0-rc-1+e4d45328", "7.3.0-rc-1", "7.3.1-rc-0+3d738518", "7.3.1-rc-0", "7.3.1-prerelease+60351308", "7.3.1-prerelease", "7.3.1+65e5fd6c", "7.3.1", "7.4.0-rc-0+eb9acc8b", "7.4.0-rc-0", "7.4.0-prerelease+972f6257", "7.4.0-prerelease", "7.4.0+4ce8cf6f", "7.4.0", "8.0.0-rc-1+a6c7cc75", "8.0.0-rc-1", "8.0.1-rc-0+b1c4239b", "8.0.1-rc-0", "8.0.1-prerelease+c143d074", "8.0.1-prerelease", "8.0.1+f48080be", "8.0.1", "9.0.0-rc-0+83e5b77b", "9.0.0-rc-0", "9.0.0-prerelease+90e2a915", "9.0.0-prerelease", "9.0.0+d9683618", "9.0.0", "7.2.5-rc-0+70b809eb", "7.2.5-rc-0", "7.2.5-prerelease+fd8cd46d", "7.2.5-prerelease", "7.2.5+7d6f8545", "7.2.5", "7.2.0-rc-0+d4de32c3", "7.2.0-rc-0", "7.2.0-prerelease+fa48e0ed", "7.2.0-prerelease", "7.2.0+c91244f0", "7.2.0", "7.1.6-rc-0+b0478f9c", "7.1.6-rc-0", "7.1.6-prerelease+b6fdc926", "7.1.6-prerelease", "7.1.6+0a5fd4b8", "7.1.6", "7.1.0-rc-0+25e98161", "7.1.0-rc-0", "7.1.0-prerelease+ecf69f8d", "7.1.0-prerelease", "7.1.0+8d27bd1d", "7.1.0", "7.0.0-rc-0+de6de495", "7.0.0-rc-0", "7.0.0-prerelease+e1764f2e", "7.0.0-prerelease", "7.0.0+01db0dc0", "7.0.0", "6.2.6-rc-0+6bd11b70", "6.2.6-rc-0", "6.2.6-prerelease+0ba0cfb6", "6.2.6-prerelease", "6.2.6+ac8288c2", "6.2.6", "6.0.0-rc-0+539f2310", "6.0.0-rc-0", "6.0.0-prerelease+518e2855", "6.0.0-prerelease", "6.0.0+da278f04", "6.0.0", "0.2.6-rc-0+35b8d5ba", "0.2.6-rc-0", "0.2.6-prerelease+648f41f5", "0.2.6-prerelease", "0.2.6+e8477df5", "0.2.6", "0.2.0-rc-0+05db721d", "0.2.0-rc-0", "0.2.0-prerelease+c50cbb96", "0.2.0-prerelease", "0.2.0+6b414c95", "0.2.0", "0.0.6-rc-0+76dccac4", "0.0.6-rc-0", "0.0.6-prerelease+bba61cc2", "0.0.6-prerelease", "0.0.6+a28c3d04", "0.0.6", "0.0.1-rc-0+f880e45b", "0.0.1-rc-0", "0.0.1-prerelease+b02dfd5c", "0.0.1-prerelease", "0.0.1+d9419094", "0.0.1", "0.0.0-rc-0+83bdcd9f", "0.0.0-rc-0", "0.0.0-prerelease+4bb27331", "0.0.0-prerelease", "0.0.0+5ba841d8", "0.0.0"]}
`(
	"when the current version is $current",
	(props: {
		current: SemanticVersionString
		invalidNextVersions: Array<SemanticVersionString>
	}) => {
		it("rejects an invalid subsequent version", () => {
			expect(
				props.invalidNextVersions.filter(
					(nextVersion) => !isSequentialUpgrade(props.current, nextVersion),
				),
			).toEqual(props.invalidNextVersions)
		})
	},
)
